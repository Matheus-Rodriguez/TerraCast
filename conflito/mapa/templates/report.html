{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerraCast - Country Report</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
    <link rel="shortcut icon" href="{% static 'favicon.png' %}" type="image/png" sizes="48x48">
    <style>
        body {
            margin: 0;
            background-color: #222;
            font-family: 'Poppins', sans-serif;
            color: white;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* ====== NAVBAR (idÃªntica ao primeiro arquivo) ====== */
        .navbar {
            display: flex;
            align-items: center;
            height: 80px;
            background-color: #222;
            padding: 0 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0px;
        }

        .logo-container a {
            display: flex;
            align-items: center;
            gap: 0px;
            text-decoration: none;
            color: inherit;
        }

        .logo-container img {
            height: 45px;
            width: auto;
            margin-right: -10px; 
        }

        .logo-container h1 {
            margin: 0;
            font-size: 24px;
            font-weight: bold;
            color: white !important;
        }

        /* Links da navbar */
        .nav-links {
            display: flex;
            flex: 1;
            justify-content: space-between;
            align-items: center;
        }

        .nav-links a {
            flex: 1;
            text-align: center;
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 20px;
            padding: 5px 0;
            position: relative;
        }

        .nav-links a::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -4px;
            width: 0;
            height: 2px;
            background-color: #ff6666;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 50%;
            left: 25%;
        }

        .nav-links a.active {
            color: #ff6666;
        }

        .nav-links a.active::after {
            width: 0;
        }

        /* Hamburger */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
        }

        .hamburger div {
            width: 25px;
            height: 3px;
            background-color: white;
        }

        /* ====== CONTEÃšDO ====== */
        .content {
            padding: 40px 20px;
            flex: 1;
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
        }

        h1 {
            color: #ff6666;
            font-size: 42px;
            margin-bottom: 20px;
            text-align: center;
        }

        p.intro-text {
            max-width: 800px;
            margin: 0 auto 40px auto;
            font-size: 20px;
            color: #ccc;
            text-align: center;
            line-height: 1.6;
        }

        form {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 40px;
        }

        input[type="text"] {
            padding: 10px 12px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            margin-top: 10px;
            width: 300px;
            max-width: 80%;
            text-align: center;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            background-color: #ff6666;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        button:hover {
            background-color: #e64e4e;
        }

        .label {
            font-size: 18px;
            margin-bottom: 10px;
            color: #ccc;
            text-align: center;
        }

        #loading {
            display: none;
            text-align: center;
            margin-bottom: 20px;
            color: #ff6666;
            font-weight: bold;
            font-size: 20px;
        }

        .result-html {
            background-color: #111;
            color: #eee;
            border: 1px solid #555;
            border-radius: 8px;
            padding: 16px;
            max-height: 500px;
            overflow-y: auto;
            white-space: normal;
            font-size: 16px;
        }

        /* ====== FOOTER (centralizado + social icons) ====== */
        footer {
            background-color: #111;
            color: #ccc;
            text-align: center;
            padding: 20px 0;
            border-top: 1px solid #333;
        }

        .social-links {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .social-links img {
            transition: 0.2s;
            filter: brightness(0) invert(0.8);
        }

        .social-links img:hover {
            filter: brightness(1) invert(0.9);
            transform: scale(1.1);
        }

        /* ====== RESPONSIVE (idÃªntico ao primeiro) ====== */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                background-color: #222;
                position: absolute;
                top: 80px;
                left: 0;
                text-align: center;
                gap: 5px;
                padding: 10px 0;
            }
            .nav-links a {
                padding: 10px 0;
                font-size: 18px;
                flex: none;
            }
            .nav-links.active {
                display: flex;
            }
            .hamburger {
                display: flex;
                margin-left: auto;
            }

            /* ConteÃºdo em telas mÃ©dias */
            h1 { font-size: 32px; }
            p.intro-text { font-size: 18px; }
        }

        @media (max-width: 480px) {
            body { font-size: 16px; }
            .logo-container h1 { font-size: 18px; }
            .nav-links a { font-size: 16px; }

            /* ConteÃºdo em telas pequenas */
            h1 { font-size: 26px; }
            p.intro-text { font-size: 16px; }
        }
    </style>
</head>
<body>
<nav class="navbar">
    <div class="logo-container">
        <a href="{% url 'home' %}">
            <img src="{% static 'logo.png' %}" alt="Logo TerraCast" style="width: 80px; height: auto;">
            <h1>TerraCast</h1>
        </a>
    </div>

    <div class="nav-links" id="navLinks">
        <a href="{% url 'mapa_violence_3m' %}"  class="{% if request.resolver_match.url_name == 'mapa_violence_3m' %}active{% endif %}">Violence 3 months</a>
        <a href="{% url 'mapa_violence_12m' %}" class="{% if request.resolver_match.url_name == 'mapa_violence_12m' %}active{% endif %}">Violence 12 months</a>
        <a href="{% url 'mapa_conflict_3m' %}"  class="{% if request.resolver_match.url_name == 'mapa_conflict_3m' %}active{% endif %}">Conflict 3 months</a>
        <a href="{% url 'mapa_conflict_12m' %}" class="{% if request.resolver_match.url_name == 'mapa_conflict_12m' %}active{% endif %}">Conflict 12 months</a>
        <a href="{% url 'report' %}"              class="{% if request.resolver_match.url_name == 'report' %}active{% endif %}">Report</a>
        <a href="{% url 'model' %}"               class="{% if request.resolver_match.url_name == 'model' %}active{% endif %}">Model</a>
        <a href="{% url 'about' %}"               class="{% if request.resolver_match.url_name == 'about' %}active{% endif %}">About</a>
    </div>

    <div class="hamburger" id="hamburger">
        <div></div><div></div><div></div>
    </div>
</nav>

<div class="content">
    <h1>ðŸ¤– Country Report</h1>

    <p class="intro-text">
        This tool uses artificial intelligence to analyze risks of armed conflict and violence in countries, based on historical data and forecasts for the upcoming months.
        By entering the ISO code of the desired country, the system generates a detailed report, comparing the predictions with real events that occurred and evaluating data consistency.
        The goal is to provide a clear and objective view to support political and strategic analyses.
    </p>

    <form method="POST" id="form-analise">
        {% csrf_token %}
        <label class="label" for="codigo_iso">Enter the country ISO code (e.g., COL, BOL, UKR):</label>
        <input type="text" name="codigo_iso" id="codigo_iso" placeholder="e.g. COL" value="{{ entrada }}">
        <button type="submit" id="btn-analise">Generate Report</button>
    </form>

    <div id="loading">Processing report, please wait...</div>

    {% if resposta %}
        <h2 style="color: #ff6666; text-align:center;">Result:</h2>
        <div class="result-html">
            {{ resposta|safe }}
        </div>
    {% endif %}
</div>

<footer>
    <p>&copy; 2025 TerraCast. Predict today to protect tomorrow.</p>
    <div class="social-links">
        <a href="https://github.com/lurodriguezzz/CS2-Coach" target="_blank" aria-label="GitHub">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/github.svg"
                 alt="GitHub" width="40" height="40"
                 style="transition: 0.2s; filter: brightness(0) invert(0.8);">
        </a>
        <a href="https://www.linkedin.com/in/lucas-rodr%C3%ADguez-b8a93b254/" target="_blank" aria-label="LinkedIn">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg"
                 alt="LinkedIn" width="40" height="40"
                 style="transition: 0.2s; filter: brightness(0) invert(0.8);">
        </a>
        <a href="https://www.instagram.com/terracastproducts/" target="_blank" aria-label="Instagram">
            <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg"
                 alt="Instagram" width="40" height="40"
                 style="transition: 0.2s; filter: brightness(0) invert(0.8);">
        </a>
    </div>
</footer>

<script>
/* Navbar: exatamente como no primeiro arquivo */
const hamburger = document.getElementById('hamburger');
const navLinks   = document.getElementById('navLinks');
hamburger.addEventListener('click', () => {
    navLinks.classList.toggle('active');
});

/* Loading do formulÃ¡rio */
const form = document.getElementById('form-analise');
const loading = document.getElementById('loading');
const btn = document.getElementById('btn-analise');
form.addEventListener('submit', function () {
    loading.style.display = 'block';
    btn.disabled = true;
    btn.textContent = 'Generating...';
});
</script>
</body>
</html>
